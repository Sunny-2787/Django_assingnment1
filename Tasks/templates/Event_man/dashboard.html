{% extends 'Event_man/base.html' %} {% block content %}

<div class="flex  gap-7 ">
    <a href="{% url 'create_event_form' %}" 
       class="px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition">
        + Add Event
    </a>

    <a href="{% url 'create_paricipant_form' %}" 
       class="px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:bg-green-600 transition">
        + Add Participant
    </a>

    <a href="{% url 'create_catagory_form' %}" 
       class="px-4 py-2 bg-purple-500 text-white rounded-lg shadow hover:bg-purple-600 transition">
        + Add Category
    </a>
</div>




<h1 class="text-2xl font-bold mb-4 mt-5">Organizer Dashboard</h1>

<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
  <a href="{% url 'dashboard'  %}" class="p-4 bg-white rounded shadow block">
    <h2 class="text-lg font-bold">Total Events</h2>
    <p class="text-2xl">{{ total_events}}</p>
  </a>
  <a
    href="{% url 'dashboard'  %}?type=upcoming"
    class="p-4 bg-white rounded shadow block"
  >
    <h2 class="text-lg font-bold">Upcoming</h2>
    <p class="text-2xl">{{ upcoming_events }}</p>
  </a>
  <a
    href="{% url 'dashboard' %}?type=past"
    class="p-4 bg-white rounded shadow block"
  >
    <h2 class="text-lg font-bold">Past</h2>
    <p class="text-2xl">{{ past_events }}</p>
  </a>
  <div class="p-4 bg-white rounded shadow">
    <h2 class="text-lg font-bold">Total Participants</h2>
    <p class="text-2xl">{{ total_participants }}</p>
  </div>
</div>

<h2 class="text-2xl font-bold mb-4">Today's Events</h2>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
  {% for event in todays_events %}
  <div class="bg-white p-4 rounded-2xl shadow hover:shadow-lg transition">
    <h3 class="text-2xl font-bold mb-1">{{ event.name }}</h3>
    <p class="text-lg text-black-500">Participant: {{ event.participants.count }}</p>
    <p class="text-lg text-gray-400">Date: {{ event.date}}</p>
        <div class="flex justify-between grid  md:grid-cols-1 lg:grid-cols-1">
        <div>
              <a class=" mt-5 inline-block px-4 py-2 bg-blue-400 border-red-800  hover:bg-red-700 text-base font-semibold rounded-lg shadow-md " href="{% url "event_Details" event.id  %}"> Details </a> 
        </div>

        <div>
            <a href='{% url "Update_Event" event.id %}'
               class= " mt-5 inline-block px-4 py-2 bg-green-400 border-green-800  hover:bg-green-700 text-base font-semibold rounded-lg shadow-md">
               Edit event

            </a>
                
        </div>

        <div>
                        <button>
                    <form action="{% url "Update_Event" event.id %}" method = "POST">
                    {% csrf_token %}
                        <button type="submit"
                    class=" mt-5 inline-block px-4 py-2 bg-red-500 border-red-600  hover:bg-red-700 text-base font-semibold rounded-lg shadow-md">
                    DElete event

            </button>
                    </form>


        </div>

    </div>


  </div>

  {% endfor %}
</div>

<h2 class="text-2xl font-bold mb-4">
  {% if type == "upcoming" %}Upcoming Events
  {% elif type == "past" %}Past Events
  {% else %}All Events
  {% endif %}
</h2>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 ">
  {% for event in Total %}
  <div class="bg-white p-4 rounded-2xl shadow hover:shadow-lg transition">
    <h3 class="text-lg font-bold mb-1">{{ event.name }}</h3>
    <p class="text-sm text-red-500">Date: {{ event.date }}</p>


     <p class="text-lg text-black-500">Participant: {{ event.participants.count }}</p>
    <div class="flex justify-between">
        <div>
              <a class=" mt-5 inline-block px-4 py-2 bg-blue-400 border-red-800  hover:bg-red-700 text-base font-semibold rounded-lg shadow-md " href="{% url "event_Details" event.id  %}"> Details </a> 
        </div>

        <div>
            <a href='{% url "Update_Event" event.id %}'
               class= " mt-5 inline-block px-4 py-2 bg-green-400 border-green-800  hover:bg-green-700 text-base font-semibold rounded-lg shadow-md">
               Edit event

            </a>
                
        </div>

        <div>
              <button>
                    <form action="{% url "DELETE_Event" event.id %}" method = "POST">
                    {% csrf_token %}
                        <button type="submit"
                    class=" mt-5 inline-block px-4 py-2 bg-red-500 border-red-600  hover:bg-red-700 text-base font-semibold rounded-lg shadow-md">
                    Delete event

            </button>
                    </form>


        </div>

    </div>
  </div>


  {% endfor %}
</div>

{% endblock %}
